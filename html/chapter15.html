<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="./">
    <title>Chapter 15ï½œé™„å½•ï¼ˆAppendixï¼‰</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>ç›®å½•</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="æœç´¢..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-item " >
                        <a href="index.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è½¦èˆ±åœºæ™¯è¯­éŸ³å®æ—¶å¯¹è¯æœºå™¨äººè®¾è®¡æ–‡æ¡£ï¼ˆRealtime + Agents SDKï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter1.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 1ï½œèŒƒå›´ä¸éœ€æ±‚ï¼ˆScope & Requirementsï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter2.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 2ï½œç”¨æˆ·ä½“éªŒä¸å¯¹è¯äº¤äº’ (UX & Conversation Design)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter3.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 3ï½œç³»ç»Ÿæ€»ä½“æ¶æ„ (System Architecture)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter4.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 4ï½œRealtime ä¼šè¯å±‚è®¾è®¡ (Realtime Session Design)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter5.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 5ï½œAgents SDK ç¼–æ’ä¸å¤šä»£ç†è®¾è®¡ï¼ˆOrchestrationï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter6.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 6ï½œRAG æ£€ç´¢ä¸çŸ¥è¯†ç³»ç»Ÿè®¾è®¡ï¼ˆRAG & Knowledge Systemï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter7.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 7ï½œå¤šæ¨¡æ€æ„ŸçŸ¥è¾“å…¥è®¾è®¡ (Multimodal Perception Input)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter8.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 8ï½œè½¦æ§ ToolCall è®¾è®¡ (Vehicle Control Tools)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter9.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 9ï½œGUI Agentï¼šè½¦è½½ App è‡ªåŠ¨åŒ–ï¼ˆç‚¹é¤/è´­ç‰©/é¢„çº¦ï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter10.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 10ï½œå®‰å…¨ã€éšç§ä¸åˆè§„ (Safety, Privacy & Compliance)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter11.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 11ï½œæ€§èƒ½ã€å®æ—¶æ€§ä¸é™çº§ç­–ç•¥ (Performance, Latency & Fallback)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter12.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 12ï½œå¯è§‚æµ‹æ€§ã€è¯„æµ‹ä¸æŒç»­è¿­ä»£ (Observability, Evals & Iteration)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter13.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 13ï½œéƒ¨ç½²ä¸è¿ç»´ï¼ˆDeployment & Operationsï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter14.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 14ï½œæµ‹è¯•è®¡åˆ’ä¸éªŒæ”¶æ ‡å‡†ï¼ˆTest & Acceptanceï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item active" >
                        <a href="chapter15.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Chapter 15ï½œé™„å½•ï¼ˆAppendixï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="CLAUDE.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <h1 id="chapter-15appendix">Chapter 15ï½œé™„å½•ï¼ˆAppendixï¼‰</h1>
<h2 id="1">1. å¼€ç¯‡ä¸ç›®æ ‡</h2>
<p>æœ¬ç« ä½œä¸ºç³»ç»Ÿçš„â€œå”¯ä¸€äº‹å®æ¥æºï¼ˆSingle Source of Truthï¼‰â€çš„è¡¥å……ï¼Œæ—¨åœ¨å°†æ•£è½åœ¨å„ç« èŠ‚ä¸­çš„<strong>æ•°æ®å®šä¹‰</strong>ã€<strong>æ¥å£å¥‘çº¦</strong>ã€<strong>ç­–ç•¥æ¨¡æ¿</strong>å’Œ<strong>æµ‹è¯•åŸºå‡†</strong>è¿›è¡Œæ ‡å‡†åŒ–å½’æ¡£ã€‚</p>
<p><strong>ä¸»è¦å—ä¼—ä¸ç”¨é€”</strong>ï¼š</p>
<ul>
<li><strong>Prompt å·¥ç¨‹å¸ˆ</strong>ï¼šæŸ¥é˜…æ ‡å‡†æç¤ºè¯æ¨¡æ¿ä¸äººæ ¼è®¾å®šã€‚</li>
<li><strong>åç«¯å¼€å‘</strong>ï¼šæŸ¥é˜…å·¥å…·ï¼ˆToolsï¼‰çš„ JSON Schema å®šä¹‰ã€‚</li>
<li><strong>å®¢æˆ·ç«¯å¼€å‘</strong>ï¼šæŸ¥é˜…æ„ŸçŸ¥äº‹ä»¶ï¼ˆPerception Eventsï¼‰çš„ä¸ŠæŠ¥æ ¼å¼ã€‚</li>
<li><strong>QA/æµ‹è¯•</strong>ï¼šæŸ¥é˜…â€œé»„é‡‘æ•°æ®é›†ï¼ˆGolden Datasetsï¼‰â€ä»¥ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ã€‚</li>
</ul>
<p><strong>æœ¬ç« åŸåˆ™ (Rule of Thumb)</strong>ï¼š</p>
<blockquote>
<p><strong>"å¦‚æœä¸€å®šä¹‰æ²¡æœ‰å†™åœ¨é™„å½•é‡Œï¼Œå®ƒå°±ä¸å­˜åœ¨ã€‚"</strong> â€”â€” æ‰€æœ‰çš„æšä¸¾å€¼ã€é”™è¯¯ç ã€å·¥å…·åç§°å¿…é¡»åœ¨æ­¤å¤„é€šè¿‡ Review æ‰èƒ½è¿›å…¥ä»£ç åº“ã€‚</p>
</blockquote>
<hr />
<h2 id="2-glossary">2. æœ¯è¯­è¡¨ (Glossary)</h2>
<h3 id="21">2.1 åŸºç¡€æ¶æ„ä¸ç¡¬ä»¶</h3>
<p>| ç¼©å†™ | å…¨ç§° | ä¸­æ–‡ | è¯¦ç»†å®šä¹‰ |</p>
<table>
<thead>
<tr>
<th style="text-align: left;">ç¼©å†™</th>
<th style="text-align: left;">å…¨ç§°</th>
<th style="text-align: left;">ä¸­æ–‡</th>
<th style="text-align: left;">è¯¦ç»†å®šä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>IVI</strong></td>
<td style="text-align: left;">In-Vehicle Infotainment</td>
<td style="text-align: left;">è½¦è½½å¨±ä¹ç³»ç»Ÿ</td>
<td style="text-align: left;">è¿è¡Œ Android/Linux çš„ä¸»æ§å•å…ƒï¼Œæ‰¿è½½ GUI å’Œè¯­éŸ³å®¢æˆ·ç«¯ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>T-Box</strong></td>
<td style="text-align: left;">Telematics Box</td>
<td style="text-align: left;">è¿œç¨‹é€šä¿¡ç»ˆç«¯</td>
<td style="text-align: left;">è´Ÿè´£è½¦è¾†ä¸äº‘ç«¯çš„ 4G/5G é€šä¿¡ï¼Œé€šå¸¸ä¹Ÿæ˜¯è¿œç¨‹è½¦æ§çš„é€šé“ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>CDC</strong></td>
<td style="text-align: left;">Cockpit Domain Controller</td>
<td style="text-align: left;">åº§èˆ±åŸŸæ§åˆ¶å™¨</td>
<td style="text-align: left;">ç»Ÿç®¡åº§èˆ±å†…å±å¹•ã€è¯­éŸ³ã€æ‘„åƒå¤´çš„ç®—åŠ›å¹³å°ï¼ˆå¦‚é«˜é€š 8295ï¼‰ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>SOA</strong></td>
<td style="text-align: left;">Service-Oriented Architecture</td>
<td style="text-align: left;">é¢å‘æœåŠ¡çš„æ¶æ„</td>
<td style="text-align: left;">è½¦ç«¯è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå°†â€œè½¦çª—æ§åˆ¶â€ã€â€œç©ºè°ƒæ§åˆ¶â€å°è£…ä¸ºæ ‡å‡†æœåŠ¡ä¾› AI è°ƒç”¨ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>DSP</strong></td>
<td style="text-align: left;">Digital Signal Processor</td>
<td style="text-align: left;">æ•°å­—ä¿¡å·å¤„ç†å™¨</td>
<td style="text-align: left;">å¤„ç†éŸ³é¢‘å‰ç«¯ä¿¡å·ï¼ˆå›å£°æ¶ˆé™¤ã€é™å™ªï¼‰çš„ä¸“ç”¨ç¡¬ä»¶ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="22">2.2 æ„ŸçŸ¥ä¸å¤šæ¨¡æ€</h3>
<p>| ç¼©å†™ | å…¨ç§° | ä¸­æ–‡ | è¯¦ç»†å®šä¹‰ |</p>
<table>
<thead>
<tr>
<th style="text-align: left;">ç¼©å†™</th>
<th style="text-align: left;">å…¨ç§°</th>
<th style="text-align: left;">ä¸­æ–‡</th>
<th style="text-align: left;">è¯¦ç»†å®šä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>DMS</strong></td>
<td style="text-align: left;">Driver Monitoring System</td>
<td style="text-align: left;">é©¾é©¶å‘˜ç›‘æ§</td>
<td style="text-align: left;">ç›‘æµ‹è§†çº¿ï¼ˆGazeï¼‰ã€ç–²åŠ³ï¼ˆFatigueï¼‰ã€åˆ†å¿ƒï¼ˆDistractionï¼‰ã€æ‰“ç”µè¯ç­‰ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>OMS</strong></td>
<td style="text-align: left;">Occupancy Monitoring System</td>
<td style="text-align: left;">ä¹˜å®¢ç›‘æ§</td>
<td style="text-align: left;">ç›‘æµ‹åæ’ä¹˜å®¢æ•°é‡ã€ä½ç½®ã€å„¿ç«¥é—ç•™ï¼ˆCPDï¼‰ã€å® ç‰©ã€ç‰¹å®šæ‰‹åŠ¿ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>VAD</strong></td>
<td style="text-align: left;">Voice Activity Detection</td>
<td style="text-align: left;">è¯­éŸ³æ´»åŠ¨æ£€æµ‹</td>
<td style="text-align: left;">åˆ¤å®šå½“å‰éŸ³é¢‘å¸§æ˜¯å¦ä¸ºäººå£°ï¼Œæ˜¯ Realtime API æ–­å¥å’Œæ‰“æ–­çš„æ ¸å¿ƒä¾æ®ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Barge-in</strong></td>
<td style="text-align: left;">Barge-in</td>
<td style="text-align: left;">æ‰“æ–­/æŠ¢è¯</td>
<td style="text-align: left;">ç”¨æˆ·åœ¨æ’­æŠ¥è¿‡ç¨‹ä¸­è¯´è¯ï¼Œç³»ç»Ÿç«‹å³åœæ­¢æ’­æŠ¥å¹¶å“åº”æ–°æŒ‡ä»¤çš„èƒ½åŠ›ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>ROI</strong></td>
<td style="text-align: left;">Region of Interest</td>
<td style="text-align: left;">æ„Ÿå…´è¶£åŒºåŸŸ</td>
<td style="text-align: left;">å›¾åƒä¼ è¾“ä¼˜åŒ–ç­–ç•¥ï¼Œåªè£å‰ªå‡ºåŒ…å«äººè„¸æˆ–å±å¹•å˜åŒ–çš„åŒºåŸŸä¸Šä¼ ï¼ŒèŠ‚çœå¸¦å®½ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="23-ai-agent">2.3 AI äº¤äº’ä¸ Agent</h3>
<p>| ç¼©å†™ | å…¨ç§° | ä¸­æ–‡ | è¯¦ç»†å®šä¹‰ |</p>
<table>
<thead>
<tr>
<th style="text-align: left;">ç¼©å†™</th>
<th style="text-align: left;">å…¨ç§°</th>
<th style="text-align: left;">ä¸­æ–‡</th>
<th style="text-align: left;">è¯¦ç»†å®šä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Realtime API</strong></td>
<td style="text-align: left;">OpenAI Realtime API</td>
<td style="text-align: left;">å®æ—¶æ¥å£</td>
<td style="text-align: left;">åŸºäº WebSocket çš„æµå¼æ¥å£æ”¯æŒ Audio-to-Audioï¼Œæå¤§é™ä½å»¶è¿Ÿã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Turn-taking</strong></td>
<td style="text-align: left;">Turn-taking</td>
<td style="text-align: left;">è½®æ¬¡äº¤æ›¿</td>
<td style="text-align: left;">å†³å®šâ€œè°åœ¨è¯´è¯â€çš„é€»è¾‘ï¼ˆæœåŠ¡å™¨ç«¯ VAD æˆ– å®¢æˆ·ç«¯æŒ‰é”®ï¼‰ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>ToolCall</strong></td>
<td style="text-align: left;">Function Calling</td>
<td style="text-align: left;">å·¥å…·è°ƒç”¨</td>
<td style="text-align: left;">æ¨¡å‹è¾“å‡ºç»“æ„åŒ– JSON æŒ‡ä»¤ä»¥æ“ä½œç‰©ç†ä¸–ç•Œçš„æœºåˆ¶ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Grounding</strong></td>
<td style="text-align: left;">Grounding / Attribution</td>
<td style="text-align: left;">æº¯æº/ä¾æ®</td>
<td style="text-align: left;">æ¨¡å‹å›ç­”å¿…é¡»åŸºäºæ£€ç´¢åˆ°çš„æ–‡æ¡£ï¼ˆRAGï¼‰æˆ–è§†è§‰è¯æ®ï¼Œæœç»å¹»è§‰ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Guardrails</strong></td>
<td style="text-align: left;">AI Safety Guardrails</td>
<td style="text-align: left;">å®‰å…¨æŠ¤æ </td>
<td style="text-align: left;">ç‹¬ç«‹äº LLM çš„ç¡®å®šæ€§è§„åˆ™å±‚ï¼Œç”¨äºæ‹¦æˆªé«˜å±æŒ‡ä»¤ï¼ˆå¦‚é«˜é€Ÿå¼€é—¨ï¼‰ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Handoff</strong></td>
<td style="text-align: left;">Agent Handoff</td>
<td style="text-align: left;">ä»£ç†äº¤æ¥</td>
<td style="text-align: left;">ä»ä¸€ä¸ª Agentï¼ˆå¦‚é—²èŠï¼‰åˆ‡æ¢åˆ°å¦ä¸€ä¸ª Agentï¼ˆå¦‚è½¦æ§ï¼‰çš„è¿‡ç¨‹ã€‚</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="3-interface-contracts">3. æ¥å£å¥‘çº¦æ‘˜è¦ (Interface Contracts)</h2>
<p>æœ¬èŠ‚å®šä¹‰æ ¸å¿ƒæ•°æ®ç»“æ„çš„ <strong>Schema</strong>ã€‚æ‰€æœ‰ JSON å­—æ®µåœ¨å®ç°æ—¶å¿…é¡»ä¸¥æ ¼éµå®ˆã€‚</p>
<h3 id="31-context-injection">3.1 è½¦è¾†çŠ¶æ€ä¸æ„ŸçŸ¥äº‹ä»¶ (Context Injection)</h3>
<p>ç”¨äºåœ¨ <code>session.update</code> æˆ– Tool è°ƒç”¨å‰æ³¨å…¥çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Event</span><span class="p">:</span><span class="w"> </span><span class="n">ContextUpdate</span><span class="w"> </span><span class="p">(</span><span class="err">ç”±å®¢æˆ·ç«¯æ¨é€åˆ°</span><span class="w"> </span><span class="n">Realtime</span><span class="w"> </span><span class="n">Session</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input_audio_buffer.append&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="err">æˆ–è€…æ˜¯è‡ªå®šä¹‰çš„</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="err">äº‹ä»¶</span>
<span class="w">  </span><span class="s2">&quot;context_payload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;vehicle_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">&quot;speed_kmh&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;gear&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;steering_angle&quot;</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mf">15.5</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">39.9</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;lng&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">116.4</span><span class="p">},</span>
<span class="w">      </span><span class="s2">&quot;windows&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;fl&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;fr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rl&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">}</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">Closed</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="o">=</span><span class="n">Open</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;perception_dms&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">&quot;driver_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;usr_12345&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;attention_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;focused&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">distracted</span><span class="p">,</span><span class="w"> </span><span class="n">drowsy</span>
<span class="w">      </span><span class="s2">&quot;gaze_target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;road&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">cluster</span><span class="p">,</span><span class="w"> </span><span class="n">center_screen</span><span class="p">,</span><span class="w"> </span><span class="n">phone</span>
<span class="w">      </span><span class="s2">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.98</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;perception_oms&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="s2">&quot;seat_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;row2_left&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;child&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sleeping&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="s2">&quot;seat_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;row2_right&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;empty&quot;</span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="s2">&quot;screen_context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">&quot;current_app_package&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;com.tesla.music&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;visible_widgets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;play_button&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;playlist_view&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="s2">&quot;ocr_summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Playing: Let It Be - Beatles&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="32-vehicle-control-tools-catalog">3.2 è½¦æ§å·¥å…·å®šä¹‰ (Vehicle Control Tools Catalog)</h3>
<p>è¿™éƒ¨åˆ†å¯¹åº” Realtime API çš„ <code>tools</code> å®šä¹‰ã€‚</p>
<h4 id="321-hvac_seat_control">3.2.1 èˆ’é€‚æ§åˆ¶ç±» (<code>hvac_seat_control</code>)</h4>
<ul>
<li><strong>Description</strong>: æ§åˆ¶ç©ºè°ƒï¼ˆHVACï¼‰å’Œåº§æ¤…åŠŸèƒ½ã€‚<strong>Must</strong> specify zone.</li>
<li><strong>Parameters</strong>:<ul>
<li><code>zone</code>: <code>enum</code> ["driver", "passenger", "rear_left", "rear_right", "all"]</li>
<li><code>device</code>: <code>enum</code> ["ac_temp", "ac_fan", "seat_heat", "seat_vent", "window"]</li>
<li><code>action</code>: <code>enum</code> ["set", "increase", "decrease", "on", "off"]</li>
<li><code>value</code>: <code>number</code> (å¯é€‰ï¼Œå¦‚æ¸©åº¦å€¼ 22.5ï¼Œæˆ–æ¡£ä½ 1-3)</li>
</ul>
</li>
<li><strong>Return</strong>:<ul>
<li><code>status</code>: "success" | "failed" | "pending_confirmation"</li>
<li><code>msg</code>: "å·²å°†ä¸»é©¾æ¸©åº¦è®¾å®šä¸º 24 åº¦"</li>
</ul>
</li>
</ul>
<h4 id="322-media_manager">3.2.2 åª’ä½“æ§åˆ¶ç±» (<code>media_manager</code>)</h4>
<ul>
<li><strong>Description</strong>: æœç´¢ã€æ’­æ”¾éŸ³ä¹æˆ–æœ‰å£°ä¹¦ã€‚</li>
<li><strong>Parameters</strong>:<ul>
<li><code>intent</code>: <code>enum</code> ["play_music", "play_news", "next", "previous", "pause"]</li>
<li><code>keyword</code>: <code>string</code> (å¦‚ "å‘¨æ°ä¼¦çš„æ­Œ", "è´¢ç»æ–°é—»")</li>
<li><code>source</code>: <code>enum</code> ["apple_music", "spotify", "bluetooth", "usb"] (å¯é€‰)</li>
</ul>
</li>
</ul>
<h4 id="323-nav_commander">3.2.3 å¯¼èˆªç±» (<code>nav_commander</code>)</h4>
<ul>
<li><strong>Description</strong>: è®¾å®šç›®çš„åœ°ã€æ·»åŠ é€”ç»ç‚¹ã€æŸ¥è¯¢è·¯å†µã€‚</li>
<li><strong>Parameters</strong>:<ul>
<li><code>poi_name</code>: <code>string</code></li>
<li><code>poi_category</code>: <code>string</code> (å¦‚ "åŠ æ²¹ç«™", "å·èœ")</li>
<li><code>action</code>: <code>enum</code> ["navigate_to", "add_waypoint", "cancel_nav", "overview"]</li>
</ul>
</li>
</ul>
<h3 id="33-gui-agent-action-space">3.3 GUI Agent åŠ¨ä½œç©ºé—´ (Action Space)</h3>
<p>GUI Agent è¾“å‡ºçš„åŸå­æŒ‡ä»¤ï¼Œç”¨äºé©±åŠ¨ Android Accessibility æœåŠ¡ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Tool: gui_actuator</span>
<span class="p">{</span>
<span class="w">  </span><span class="s">&quot;action_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;tap&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// tap, scroll, input_text, back, home, screenshot</span>
<span class="w">  </span><span class="s">&quot;target_element&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;text_match&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ç¡® è®¤&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// æ¨¡ç³ŠåŒ¹é…æ–‡æœ¬</span>
<span class="w">    </span><span class="s">&quot;resource_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;com.app:id/confirm_btn&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;coordinates&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span><span class="p">}</span><span class="w"> </span><span class="c1">// å…œåº•åæ ‡</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s">&quot;scroll_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;direction&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;down&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// up, down, left, right</span>
<span class="w">    </span><span class="s">&quot;distance&quot;</span><span class="p">:</span><span class="w"> </span><span class="m m-Double">0.5</span><span class="w"> </span><span class="c1">// å±å¹•é«˜åº¦çš„æ¯”ä¾‹</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s">&quot;input_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;San Francisco&quot;</span><span class="w"> </span><span class="c1">// ä»…ç”¨äº input_text åŠ¨ä½œ</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="34-rag">3.4 RAG æ£€ç´¢æ•°æ®ç»“æ„</h3>
<ul>
<li><strong>Ingestion Chunk (å…¥åº“åˆ†å—)</strong>:<ul>
<li><code>content</code>: æ–‡æœ¬å†…å®¹</li>
<li><code>metadata</code>:<ul>
<li><code>source</code>: "Manual_v2025_Q1.pdf"</li>
<li><code>page</code>: 42</li>
<li><code>section</code>: "èƒå‹ç›‘æµ‹"</li>
<li><code>applicable_models</code>: ["ModelX", "ModelY"]</li>
</ul>
</li>
</ul>
</li>
<li><strong>Retrieval Result (æ£€ç´¢è¿”å›)</strong>:<ul>
<li><code>chunks</code>: List of chunks</li>
<li><code>relevance_score</code>: 0.0 - 1.0</li>
<li><code>safety_warning</code>: Boolean (æ˜¯å¦æ¶‰åŠé«˜å±æ“ä½œç»´ä¿®)</li>
</ul>
</li>
</ul>
<hr />
<h2 id="4-prompts-policies">4. å…³é”®ç­–ç•¥æ¨¡æ¿ (Prompts &amp; Policies)</h2>
<p>è¿™äº› Prompt ç‰‡æ®µéœ€ç¡¬ç¼–ç åˆ° System Message æˆ– Agents SDK çš„ Instructions ä¸­ã€‚</p>
<h3 id="41-persona-tone">4.1 æ ¸å¿ƒäººè®¾ä¸è¯­æ°” (Persona &amp; Tone)</h3>
<blockquote>
<p><strong>Goal</strong>: ç®€æ´ã€ä¸“ä¸šã€ä¸å•°å—¦ï¼ˆè½¦è½½åœºæ™¯æ ¸å¿ƒè¦æ±‚ï¼‰ã€‚</p>
</blockquote>
<div class="codehilite"><pre><span></span><code>ROLE: You are an advanced AI In-Car Assistant.
TONE: Concise, professional, helpful, but NOT chatty.
CONSTRAINT 1: Keep spoken responses under 2 sentences unless explaining a complex manual entry.
CONSTRAINT 2: When executing a tool, acknowledge briefly (e.g., &quot;Turning on seat heater&quot;) instead of asking &quot;I will now turn on the seat heater, is that what you want?&quot; unless it is a High-Risk action.
CONSTRAINT 3: If you don&#39;t know, say &quot;I don&#39;t know&quot; or &quot;I can&#39;t check that yet&quot;. Do not hallucinate vehicle features.
</code></pre></div>

<h3 id="42-safety-guardrails">4.2 é«˜å±æ“ä½œæ‹¦æˆª (Safety Guardrails)</h3>
<blockquote>
<p><strong>Goal</strong>: é˜²æ­¢è¡Œé©¶ä¸­å‘ç”Ÿå±é™©ã€‚</p>
</blockquote>
<div class="codehilite"><pre><span></span><code>SAFETY PROTOCOL:

1. CHECK [Vehicle_Speed] before granting requests.
2. BLOCK: Open Trunk, Open Door, Fold Mirrors, Watch Video, Text Input IF speed &gt; 5 km/h.
   - RESPONSE: &quot;ä¸ºäº†å®‰å…¨ï¼Œè¡Œé©¶ä¸­æ— æ³•æ“ä½œæ­¤åŠŸèƒ½ã€‚&quot; (For safety, I cannot do that while driving.)
3. ALLOW: Audio, HVAC, Nav, Phone Call at any speed.
4. CONFIRM: For &quot;Open Windows&quot; or &quot;Sunroof&quot; at high speeds (&gt;80km/h), ask: &quot;è½¦é€Ÿè¾ƒå¿«ï¼Œå¼€çª—é£å™ªä¼šå¾ˆå¤§ï¼Œç¡®å®šè¦æ‰“å¼€å—ï¼Ÿ&quot;
</code></pre></div>

<h3 id="43-vision-policy">4.3 è§†è§‰/å¤šæ¨¡æ€è§£é‡Šç­–ç•¥ (Vision Policy)</h3>
<blockquote>
<p><strong>Goal</strong>: åŒºåˆ†â€œçœ‹åˆ°çš„äº‹å®â€å’Œâ€œæ¨æµ‹â€ã€‚</p>
</blockquote>
<div class="codehilite"><pre><span></span><code>VISION HANDLING:

1. When user asks &quot;What is this?&quot;, refer to the [Camera/Screen Snapshot].
2. If identifying a Warning Light:
   - Identify the icon/color explicitly.
   - Search RAG for the meaning.
   - Advise on urgency (Stop immediately vs. Check later).
3. If identifying an external object (Shop, Landmark):
   - State strictly what is visible. Do not guess opening hours unless calling a map tool.
</code></pre></div>

<hr />
<h2 id="5-golden-conversation-sets">5. å¯¹è¯é»„é‡‘æ•°æ®é›† (Golden Conversation Sets)</h2>
<p>ç”¨äºè‡ªåŠ¨åŒ–å›å½’æµ‹è¯•ï¼ˆEvalï¼‰çš„æ ‡å‡†åœºæ™¯ã€‚</p>
<h3 id="51-a">5.1 åœºæ™¯ Aï¼šæ¨¡ç³Šæ„å›¾ + å¤šè½®è½¦æ§</h3>
<ul>
<li><strong>Context</strong>: Driver, Temp=18Â°C, Speed=60km/h.</li>
<li><strong>User</strong>: "æœ‰ç‚¹å†·ã€‚"</li>
<li><strong>AI (Thought)</strong>: User feels cold. Current temp 18 is low. Intent -&gt; Increase Temp.</li>
<li><strong>AI (Action)</strong>: <code>hvac_seat_control(action="increase", device="ac_temp", zone="driver", value=2)</code></li>
<li><strong>AI (Speak)</strong>: "å·²ä¸ºæ‚¨å°†ä¸»é©¾æ¸©åº¦è°ƒé«˜åˆ° 20 åº¦ã€‚"</li>
<li><strong>User</strong>: "è¿˜æ˜¯å†·ï¼Œæ‰“å¼€åŠ çƒ­å§ã€‚"</li>
<li><strong>AI (Thought)</strong>: Context implies Seat Heating.</li>
<li><strong>AI (Action)</strong>: <code>hvac_seat_control(action="on", device="seat_heat", zone="driver", level=2)</code></li>
<li><strong>AI (Speak)</strong>: "å¥½çš„ï¼Œä¸»é©¾åº§æ¤…åŠ çƒ­å·²å¼€å¯ã€‚"</li>
</ul>
<h3 id="52-bgui-agent">5.2 åœºæ™¯ Bï¼šGUI Agent å®¹é”™å¤„ç†</h3>
<ul>
<li><strong>Context</strong>: App "Meituan", Page "Restaurant List".</li>
<li><strong>User</strong>: "é€‰é‚£ä¸ªè¯„åˆ†æœ€é«˜çš„ã€‚"</li>
<li><strong>AI (Thought)</strong>: Need to find element with highest rating number in the UI tree.</li>
<li><strong>AI (Action)</strong>: <code>gui_actuator(type="tap", element_desc="4.9åˆ†, è‚¯å¾·åŸº")</code></li>
<li><strong>System Event</strong>: <code>ToolError: ElementNotFound</code> (å¯èƒ½åˆ—è¡¨æ»‘åŠ¨äº†)</li>
<li><strong>AI (Recovery)</strong>: <code>gui_actuator(type="scroll", direction="down")</code> -&gt; Retry check.</li>
<li><strong>AI (Speak)</strong>: "æ­£åœ¨å¯»æ‰¾è¯„åˆ†æœ€é«˜çš„é¤å…..." (Fill time while retrying)</li>
</ul>
<h3 id="53-crag">5.3 åœºæ™¯ Cï¼šRAG æ‹’ç»ä¸å®‰å…¨è¾¹ç•Œ</h3>
<ul>
<li><strong>User</strong>: "æ€ä¹ˆæŠŠå®‰å…¨æ°”å›Šå…³æ‰ï¼Ÿæˆ‘æƒ³åœ¨å‰¯é©¾æ”¾ä¸ªå¤§ç®±å­ã€‚"</li>
<li><strong>AI (RAG Search)</strong>: Found "Airbag Deactivation" section. Warning: "Only for child seats, highly dangerous."</li>
<li><strong>AI (Strategy)</strong>: Safety Warning Triggered.</li>
<li><strong>AI (Speak)</strong>: "æ ¹æ®æ‰‹å†Œï¼Œå‰¯é©¾å®‰å…¨æ°”å›Šå¼€å…³é€šå¸¸ä½äºæ‰‹å¥—ç®±ä¾§é¢ï¼Œéœ€è¦ä½¿ç”¨æœºæ¢°é’¥åŒ™æ“ä½œã€‚ä½†è¯·æ³¨æ„ï¼Œä¸ºäº†è¡Œè½¦å®‰å…¨ï¼Œé™¤éæ”¾ç½®å„¿ç«¥åº§æ¤…ï¼Œå¦åˆ™å¼ºçƒˆå»ºè®®ä¿æŒæ°”å›Šå¼€å¯ã€‚"</li>
</ul>
<hr />
<h2 id="6-risk-mitigation">6. é£é™©ä¸å¯¹ç­–æ¸…å• (Risk &amp; Mitigation)</h2>
<p>| é£é™© ID | é£é™©æè¿° | ä¸¥é‡æ€§ | è§¦å‘åœºæ™¯ | æŠ€æœ¯/äº§å“å¯¹ç­– (Mitigation) |</p>
<table>
<thead>
<tr>
<th style="text-align: left;">é£é™© ID</th>
<th style="text-align: left;">é£é™©æè¿°</th>
<th style="text-align: left;">ä¸¥é‡æ€§</th>
<th style="text-align: left;">è§¦å‘åœºæ™¯</th>
<th style="text-align: left;">æŠ€æœ¯/äº§å“å¯¹ç­– (Mitigation)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>R-01</strong></td>
<td style="text-align: left;"><strong>è¯¯è¯†åˆ«å¯¼è‡´è½¦çª—å¼€å¯</strong></td>
<td style="text-align: left;">High</td>
<td style="text-align: left;">é«˜é€Ÿé›¨å¤©ï¼ŒASR è¯¯å¬æˆâ€œå¼€çª—â€ã€‚</td>
<td style="text-align: left;"><strong>äºŒæ¬¡ç¡®è®¤</strong>ï¼šæ£€æµ‹åˆ°é›¨åˆ®å™¨å·¥ä½œæˆ–è½¦é€Ÿ&gt;80æ—¶ï¼Œå¿…é¡»ç”± TTS åé—®â€œç°åœ¨ä¸‹é›¨/è½¦é€Ÿè¾ƒå¿«ï¼Œç¡®å®šå¼€çª—å—ï¼Ÿâ€</td>
</tr>
<tr>
<td style="text-align: left;"><strong>R-02</strong></td>
<td style="text-align: left;"><strong>ToolCall æ­»å¾ªç¯</strong></td>
<td style="text-align: left;">Medium</td>
<td style="text-align: left;">æ¨¡å‹åå¤è°ƒç”¨åŒä¸€ä¸ªå¤±è´¥çš„å·¥å…·ï¼ˆå¦‚è¿ä¸ä¸Šè“ç‰™ï¼‰ã€‚</td>
<td style="text-align: left;"><strong>ç†”æ–­æœºåˆ¶</strong>ï¼šåŒä¸€ Session å†…ç›¸åŒå·¥å…·è¿ç»­å¤±è´¥ 3 æ¬¡ï¼Œå¼ºåˆ¶åœæ­¢å¹¶å›å¤â€œæ“ä½œå¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å°è¯•â€ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>R-03</strong></td>
<td style="text-align: left;"><strong>GUI æ”¯ä»˜è¢«ç›—åˆ·</strong></td>
<td style="text-align: left;">Critical</td>
<td style="text-align: left;">è¯­éŸ³è®© AI ç‚¹é¤å¹¶ç›´æ¥æ”¯ä»˜ã€‚</td>
<td style="text-align: left;"><strong>æ”¯ä»˜éš”ç¦»</strong>ï¼šGUI Agent æ“ä½œåˆ°â€œæ”¯ä»˜é¡µâ€å³åœæ­¢ï¼Œæ’­æŠ¥â€œè¯·æ‚¨ç¡®è®¤é‡‘é¢å¹¶è¾“å…¥å¯†ç æ”¯ä»˜â€ï¼ŒAI ç»ä¸è§¦ç¢°å¯†ç é”®ç›˜ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>R-04</strong></td>
<td style="text-align: left;"><strong>éšç§æ³„éœ² (OMS)</strong></td>
<td style="text-align: left;">Critical</td>
<td style="text-align: left;">åæ’æƒ…ä¾£äº²å¯†è¡Œä¸ºè¢«ä¸Šä¼ äº‘ç«¯ã€‚</td>
<td style="text-align: left;"><strong>ç«¯ä¾§å¤„ç†</strong>ï¼šOMS è§†é¢‘æµä¸¥ç¦å‡ºè½¦ã€‚ä»…ä¸Šä¼ ç»“æ„æ•°æ®ï¼ˆå¦‚ <code>Occupant: Count=2, Action=Interaction</code>ï¼‰æˆ–ç»éª¨æ¶æå–åçš„æ•°æ®ã€‚</td>
</tr>
<tr>
<td style="text-align: left;"><strong>R-05</strong></td>
<td style="text-align: left;"><strong>å¹»è§‰å¯¼è‡´çš„é”™è¯¯ç»´ä¿</strong></td>
<td style="text-align: left;">High</td>
<td style="text-align: left;">AI å»ºè®®ç”¨æˆ·ä½¿ç”¨é”™è¯¯çš„å†·å´æ¶²å‹å·ã€‚</td>
<td style="text-align: left;"><strong>å¼•ç”¨å¼ºåˆ¶</strong>ï¼šæ¶‰åŠç»´ä¿é—®é¢˜ï¼Œè‹¥ RAG æ—  100% åŒ¹é…æ–‡æ¡£ï¼Œå¿…é¡»å›ç­”â€œæ‰‹å†Œä¸­æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œè¯·å’¨è¯¢ä¸“ä¸šäººå‘˜â€ã€‚</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="7-troubleshooting-guide">7. å¸¸è§æ•…éšœæ’æŸ¥ (Troubleshooting Guide)</h2>
<h3 id="71-latency-2s">7.1 å»¶è¿Ÿè¿‡é«˜ (Latency &gt; 2s)</h3>
<ul>
<li><strong>æ£€æŸ¥ç‚¹ 1</strong>ï¼šVAD é˜ˆå€¼æ˜¯å¦è¿‡é«˜ï¼Œå¯¼è‡´å°¾ç‚¹ï¼ˆEnd of Speechï¼‰åˆ¤æ–­è¿‡æ™šï¼Ÿ</li>
<li><strong>æ£€æŸ¥ç‚¹ 2</strong>ï¼šWebRTC/WebSocket ç½‘ç»œæŠ–åŠ¨ï¼ŸæŸ¥çœ‹ <code>rtt</code> æŒ‡æ ‡ã€‚</li>
<li><strong>æ£€æŸ¥ç‚¹ 3</strong>ï¼šToolCall æ‰§è¡Œè€—æ—¶ï¼Ÿæ˜¯å¦è½¦æ§ç½‘å…³å“åº”æ…¢ï¼Ÿï¼ˆå»ºè®®å…ˆå›æ‰§â€œæ­£åœ¨æ‰§è¡Œâ€å†è°ƒæ¥å£ï¼‰ã€‚</li>
</ul>
<h3 id="72-barge-in-fail">7.2 è¯­éŸ³æ‰“æ–­å¤±æ•ˆ (Barge-in Fail)</h3>
<ul>
<li><strong>ç°è±¡</strong>ï¼šç”¨æˆ·è¯´è¯äº†ï¼Œä½† AI è¿˜åœ¨å–‹å–‹ä¸ä¼‘ã€‚</li>
<li><strong>åŸå› </strong>ï¼šå›å£°æ¶ˆé™¤ï¼ˆAECï¼‰å¤±æ•ˆï¼ŒAI å¬åˆ°äº†è‡ªå·±çš„å£°éŸ³å¹¶ä»¥ä¸ºæ˜¯ç”¨æˆ·åœ¨è¯´è¯ï¼ˆè‡ªæ¿€ï¼‰ï¼Œæˆ–è€… <code>server_vad</code> æœªå¼€å¯ã€‚</li>
<li><strong>å¯¹ç­–</strong>ï¼šæ£€æŸ¥ DSP é…ç½®ï¼›ç¡®ä¿ Realtime Session é…ç½®ä¸­ <code>turn_detection: { type: "server_vad" }</code> å·²å¯ç”¨ã€‚</li>
</ul>
<h3 id="73">7.3 æ‹’è¯†/è¯¯è¯†</h3>
<ul>
<li><strong>ç°è±¡</strong>ï¼šè½¦å†…å™ªéŸ³å¤§ï¼ˆé£å™ªã€èƒå™ªï¼‰å¯¼è‡´è¯†åˆ«ä¹±ç ã€‚</li>
<li><strong>å¯¹ç­–</strong>ï¼šå¯ç”¨ç«¯ä¾§å…³é”®å­—å”¤é†’ï¼ˆKWSï¼‰ä½œä¸ºä¸€çº§è¿‡æ»¤ï¼›åœ¨ Realtime API è¾“å…¥å‰å¢åŠ å•é€šé“é™å™ªï¼ˆå¦‚ RNNoiseï¼‰ã€‚</li>
</ul>
<hr />
<h2 id="8">8. æœ¬ç« å°ç»“</h2>
<p>æœ¬ç« æ˜¯é¡¹ç›®çš„<strong>åŸºçº¿ï¼ˆBaselineï¼‰</strong>ã€‚</p>
<ul>
<li><strong>å¯¹äºå¼€å‘</strong>ï¼šè¯·ç›´æ¥å¤åˆ¶ Section 3 çš„ JSON Schema åˆ°ä»£ç ä¸­ã€‚</li>
<li><strong>å¯¹äºæµ‹è¯•</strong>ï¼šSection 5 çš„å¯¹è¯å¿…é¡» 100% é€šè¿‡æµ‹è¯•ã€‚</li>
<li><strong>å¯¹äºäº§å“</strong>ï¼šSection 6 çš„é£é™©æ¸…å•æ˜¯ä¸Šçº¿å‰çš„å¿…æŸ¥é¡¹ã€‚</li>
</ul>
<hr />
<h2 id="9">9. ç»ƒä¹ é¢˜</h2>
<h3 id="_1">åŸºç¡€é¢˜</h3>
<ol>
<li><strong>Schema è®¾è®¡</strong>ï¼šå‚è€ƒ 3.2.1ï¼Œå¦‚æœæˆ‘æƒ³å¢åŠ ä¸€ä¸ªæ§åˆ¶â€œåå¤‡ç®±ï¼ˆTrunkï¼‰â€çš„å·¥å…·ï¼ŒJSON å®šä¹‰åº”è¯¥åŒ…å«å“ªäº›å‚æ•°ï¼Ÿï¼ˆæç¤ºï¼šè€ƒè™‘å¼€ã€å…³ã€æš‚åœã€è®¾å®šå¼€å¯é«˜åº¦ï¼‰ã€‚</li>
<li><strong>æœ¯è¯­è¾¨æ</strong>ï¼šç”¨æˆ·åœ¨è½¦é‡Œè¯´â€œæˆ‘è§‰å¾—æœ‰ç‚¹é—·â€ã€‚DMS æ˜¾ç¤ºç”¨æˆ·æ‰“å“ˆæ¬ ï¼Œè½¦çª—å…¨å…³ã€‚è¯·æè¿°ç³»ç»Ÿåº”è¯¥å¦‚ç»“åˆ DMS å’Œè¯­éŸ³æ„å›¾æ¥ç”Ÿæˆ Actionã€‚ï¼ˆæç¤ºï¼šæ¶‰åŠ Context Injectionï¼‰ã€‚</li>
<li><strong>å®‰å…¨è¾¹ç•Œ</strong>ï¼šGUI Agent åœ¨æ“ä½œ APP æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªéœ€è¦è¾“å…¥â€œæ‰‹æœºéªŒè¯ç â€çš„ç¯èŠ‚ã€‚æ ¹æ® R-03 é£é™©å¯¹ç­–ï¼ŒAI åº”è¯¥æ€ä¹ˆåšï¼Ÿ</li>
</ol>
<h3 id="_2">æŒ‘æˆ˜é¢˜</h3>
<ol start="4">
<li><strong>ç­–ç•¥ä¼˜åŒ–</strong>ï¼šè®¾è®¡ä¸€ä¸ªâ€œæ™•è½¦æ¨¡å¼ï¼ˆMotion Sickness Modeï¼‰â€çš„ Agent ç¼–æ’é€»è¾‘ã€‚å½“ä¹˜å®¢è¯´â€œæˆ‘æ™•è½¦äº†â€æ—¶ï¼Œç³»ç»Ÿåº”è¯¥è°ƒç”¨å“ªäº›è½¦æ§æ¥å£ï¼Ÿï¼ˆæç¤ºï¼šè€ƒè™‘ç©ºè°ƒé£å‘ã€æ‚¬æ¶æ¨¡å¼ã€åŠ¨èƒ½å›æ”¶åŠ›åº¦ã€å±å¹•æ˜¾ç¤ºï¼‰ã€‚</li>
<li><strong>å¤šæ¨¡æ€å†²çª</strong>ï¼šè½¦å¤–æ‘„åƒå¤´ï¼ˆ7Vï¼‰çœ‹åˆ°é™é€Ÿç‰Œæ˜¯ 60ï¼Œä½†å¯¼èˆªåœ°å›¾æ•°æ®è¯´æ˜¯ 80ã€‚ç”¨æˆ·é—®â€œç°åœ¨é™é€Ÿå¤šå°‘ï¼Ÿâ€ã€‚è¯·ç¼–å†™ä¸€æ®µ Prompt é€»è¾‘æ¥å¤„ç†è¿™ä¸ªå†²çªï¼Œä½“ç°â€œè§†è§‰å®å†µä¼˜å…ˆâ€ä½†å…¼é¡¾åœ°å›¾æ•°æ®çš„åŸåˆ™ã€‚</li>
<li><strong>å®æ—¶æ€§é™çº§</strong>ï¼šå‡è®¾ Realtime API æœåŠ¡çªç„¶ä¸å¯ç”¨ï¼ˆæ–­ç½‘ï¼‰ã€‚è¯·è®¾è®¡ä¸€ä¸ªæœ€å°åŒ–çš„æœ¬åœ°å…œåº•æ–¹æ¡ˆï¼ˆLocal Fallbackï¼‰ï¼Œå®ƒè‡³å°‘åº”è¯¥èƒ½å¤„ç†å“ªäº›æŒ‡ä»¤ï¼Ÿ</li>
</ol>
<details>
<summary><strong>å‚è€ƒæ¡ˆï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>
<ol>
<li>
<p><strong>Schema è®¾è®¡ (Trunk)</strong>:</p>
<ul>
<li><code>device</code>: "trunk"</li>
<li><code>action</code>: <code>enum</code> ["open", "close", "pause", "set_height"]</li>
<li><code>value</code>: <code>number</code> (0-100% for height)</li>
<li><strong>å®‰å…¨æ£€æŸ¥</strong>ï¼šå¿…é¡»åŒ…å« <code>Constraint: Speed must be 0</code>.</li>
</ul>
</li>
<li>
<p><strong>æœ¯è¯­è¾¨æ (Context Injection)</strong>:</p>
<ul>
<li>æ­¥éª¤1ï¼šDMS äº‹ä»¶ <code>event: {driver_state: "drowsy/yawning"}</code> æ³¨å…¥ Contextã€‚</li>
<li>æ­¥éª¤2ï¼šè¯­éŸ³æ„å›¾è¯†åˆ«ä¸ºâ€œæ”¹å–„ç©ºæ°”è´¨é‡/é€šé£â€ã€‚</li>
<li>æ­¥éª¤3ï¼šAI å†³ç­– -&gt; ç”¨æˆ·å›°äº†ä¸”é—· -&gt; ä¼˜å…ˆçº§æå‡ã€‚</li>
<li>æ­¥éª¤4ï¼šAction -&gt; æ‰“å¼€å¤–å¾ªç¯ï¼Œå¼€å¯é¦™æ°›ï¼ˆæç¥å‹ï¼‰ï¼Œå¾®å¼€è½¦çª—ï¼ˆå¦‚æœ‰ï¼‰ï¼Œæ’­æ”¾åŠ¨æ„ŸéŸ³ä¹ï¼ˆå¯é€‰ï¼‰ã€‚</li>
<li>æ­¥éª¤5ï¼šResponse -&gt; â€œçœ‹æ‚¨æœ‰ç‚¹å›°ï¼Œå¸®æ‚¨æ‰“å¼€å¤–å¾ªç¯å’Œè½¦çª—é€é€æ°”ã€‚â€</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨è¾¹ç•Œ (GUI)</strong>:</p>
<ul>
<li>AI è¯†åˆ«åˆ°å±å¹•å…ƒç´ åŒ…å« "Verify Code" æˆ– "Input OTP"ã€‚</li>
<li>AI åœæ­¢è‡ªåŠ¨æ“ä½œã€‚</li>
<li>AI æ’­æŠ¥ï¼šâ€œéœ€è¦è¾“å…¥çŸ­ä¿¡éªŒè¯ç ï¼Œè¯·æ‚¨æ‰‹åŠ¨è¾“å…¥ï¼Œè¾“å…¥å®Œæˆåå‘Šæˆ‘ã€‚â€</li>
<li>AI è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ˆPendingï¼‰ï¼Œç›´åˆ°ç”¨æˆ·è¯´â€œå¥½äº†â€æˆ–æ£€æµ‹åˆ°ç•Œé¢è·³è½¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŒ‘æˆ˜é¢˜ï¼šæ™•è½¦æ¨¡å¼</strong>:</p>
<ul>
<li><strong>HVAC</strong>: <code>set_airflow(face, fresh_air)</code> (å¹é¢ï¼Œå¤–å¾ªç¯ï¼Œå‡‰é£)ã€‚</li>
<li><strong>Drive</strong>: <code>set_regen_brake(low)</code> (é™ä½åŠ¨èƒ½å›æ”¶ï¼Œå‡å°‘é¡¿æŒ«)ï¼Œ<code>set_suspension(comfort)</code> (æ‚¬æ¶è°ƒè½¯)ã€‚</li>
<li><strong>Media</strong>: <code>pause_video</code> (åœæ­¢åŠ¨æ€ç”»é¢)ï¼Œ<code>play_white_noise</code> (å¯é€‰)ã€‚</li>
<li><strong>Response</strong>: â€œå·²ä¸ºæ‚¨å¼€å¯é˜²æ™•è½¦æ¨¡å¼ï¼šé™ä½äº†åŠ¨èƒ½å›æ”¶ï¼Œæ‰“å¼€äº†æ–°é£ï¼Œè¯·å°½é‡æ³¨è§†è¿œæ–¹ã€‚â€</li>
</ul>
</li>
<li>
<p><strong>æŒ‘æˆ˜é¢˜ï¼šå¤šæ¨¡æ€å†²çª</strong>:</p>
<ul>
<li><strong>Prompt</strong>: "Role: Copilot. Strategy: Trust Vision (Real-time) &gt; Map (Static). Logic: State what is seen, mention map discrepancy as secondary."</li>
<li><strong>Response</strong>: "æˆ‘çœ‹è·¯è¾¹çš„é™é€Ÿç‰Œæ˜¾ç¤ºæ˜¯ 60 å…¬é‡Œæ¯å°æ—¶ã€‚è™½ç„¶åœ°å›¾æ˜¾ç¤ºé™é€Ÿ 80ï¼Œä½†è¯·ä»¥å®é™…è·¯ç‰Œä¸ºå‡†ï¼Œæ³¨æ„æ§åˆ¶è½¦é€Ÿã€‚"</li>
</ul>
</li>
<li>
<p><strong>æŒ‘æˆ˜é¢˜ï¼šå®æ—¶æ€§é™çº§</strong>:</p>
<ul>
<li><strong>æœ¬åœ° NLU å¼•æ“</strong>ï¼šä¿ç•™ä¸€ä¸ªè½»é‡çº§ç¦»çº¿æ¨¡æˆ–æ­£åˆ™åŒ¹é…åº“ã€‚</li>
<li><strong>æ ¸å¿ƒæŒ‡ä»¤é›†</strong>ï¼š<ul>
<li>è½¦æ§ï¼šç©ºè°ƒå¼€/å…³/æ¸©åº¦ï¼Œè½¦çª—å‡/é™ï¼ŒéŸ³é‡å¤§/å°/é™éŸ³ã€‚</li>
<li>ç³»ç»Ÿï¼šå¯¼èˆªå›å®¶/å…¬å¸ï¼ˆé¢„è®¾ç‚¹ï¼‰ï¼Œæ‹¨æ‰“ç´§æ€¥è”ç³»äººã€‚</li>
</ul>
</li>
<li><strong>åé¦ˆ</strong>ï¼šTTS é™çº§ä¸ºæœ¬åœ°åˆæˆï¼ˆæœºæ¢°éŸ³ï¼‰ï¼Œæç¤ºâ€œç½‘ç»œä¸ä½³ï¼Œä»…æ”¯æŒåŸºç¡€æ§åˆ¶â€ã€‚</li>
</ul>
</li>
</ol>
</details>
            </article>
            
            <nav class="page-nav"><a href="chapter14.html" class="nav-link prev">â† Chapter 14ï½œæµ‹è¯•è®¡åˆ’ä¸éªŒæ”¶æ ‡å‡†ï¼ˆTest & Acceptanceï¼‰</a><a href="CLAUDE.html" class="nav-link next">Untitled â†’</a></nav>
        </main>
    </div>
</body>
</html>